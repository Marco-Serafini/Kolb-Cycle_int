<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Modello di Kolb – Ciclo dell’apprendimento (interattivo)</title>
  <meta name="description" content="Rappresentazione visiva e interattiva del ciclo dell’apprendimento esperienziale di Kolb. Clicca le fasi per aprire pannelli con spiegazioni ed esempi. Progetto statico, pronto per GitHub Pages."/>
  <style>
    :root{
      --bg: #0f172a;        /* slate-900 */
      --panel: #111827;     /* gray-900 */
      --muted: #6b7280;     /* gray-500 */
      --text: #e5e7eb;      /* gray-200 */
      --white: #ffffff;
      --accent: #22d3ee;    /* cyan-400 */
      --accent-2: #a78bfa;  /* violet-400 */
      --accent-3: #34d399;  /* emerald-400 */
      --accent-4: #f59e0b;  /* amber-500 */
      --ring: #0ea5e9;      /* sky-500 */

      --radius: 150;  /* raggio esterno SVG */
      --inner: 105;   /* raggio interno SVG */
      --size: 420;    /* lato SVG */

      --transition: 260ms cubic-bezier(.2,.8,.2,1);
      --shadow: 0 10px 30px rgba(0,0,0,.35);
    }

    @media (prefers-color-scheme: light){
      :root{ --bg:#f8fafc; --panel:#ffffff; --text:#0f172a; --muted:#64748b; }
      body{ background: linear-gradient(180deg,#f8fafc,#eef2f7); }
    }

    *{ box-sizing:border-box }
    html,body{ height:100% }
    body{
      margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color:var(--text); background: radial-gradient(1200px 700px at 10% -10%, rgba(34,211,238,.12), transparent),
                         radial-gradient(900px 600px at 110% 10%, rgba(167,139,250,.10), transparent),
                         var(--bg);
    }

    header{
      max-width:1100px; margin: 24px auto 8px; padding: 0 20px;
    }
    header h1{ margin:.2rem 0; font-weight:800; letter-spacing:.3px; font-size: clamp(1.4rem, 1.2rem + 1.8vw, 2.2rem); }
    header p{ margin:.2rem 0; color:var(--muted) }

    .app{ max-width:1100px; margin: 0 auto; padding: 12px 20px 40px; }

    .layout{
      display:grid; gap:22px; align-items:stretch;
      grid-template-columns: 1.1fr .9fr;
    }

    @media (max-width: 980px){
      .layout{ grid-template-columns: 1fr; }
    }

    .card{ background:var(--panel); border:1px solid rgba(255,255,255,.06); border-radius:18px; box-shadow: var(--shadow); }

    .diagram-card{ position:relative; padding:18px; }
    .diagram-wrap{ display:grid; place-items:center; padding:8px; }

    /* Legend and controls */
    .legend{
      display:flex; flex-wrap:wrap; gap:12px 18px; justify-content:center; align-items:center; margin:8px 0 4px;
      color:var(--muted); font-size:.95rem;
    }
    .badge{ display:inline-flex; align-items:center; gap:8px; padding:8px 12px; background: rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.06); border-radius:999px; }
    .dot{ width:11px; height:11px; border-radius:999px; display:inline-block }

    .controls{ display:flex; justify-content:center; gap:10px; margin:6px 0 2px; }
    .btn{
      border:1px solid rgba(255,255,255,.08); background: rgba(255,255,255,.03);
      color:var(--text); padding:10px 14px; border-radius:12px; cursor:pointer;
      font-weight:600; transition:transform var(--transition), background var(--transition), border-color var(--transition);
    }
    .btn:hover{ transform:translateY(-1px); background:rgba(255,255,255,.06) }
    .btn:active{ transform:translateY(0) }

    /* SVG styling */
    svg{ width: min(100%, 520px); height:auto; display:block; }
    .seg{ cursor:pointer; transition: filter var(--transition), opacity var(--transition); isolation:isolate; }
    .seg:focus-visible{ outline:none; filter: drop-shadow(0 0 0.6rem rgba(34,211,238,.7)); }
    .seg:hover{ filter: drop-shadow(0 6px 18px rgba(0,0,0,.35)) brightness(1.05); }
    .seg[aria-current="true"]{ filter: drop-shadow(0 10px 24px rgba(34,211,238,.55)); }

    .ring-indicator{ transform-origin: 50% 50%; transition: transform 520ms cubic-bezier(.2,.8,.2,1); }

    .center-label{ font-weight:800; font-size: 16px; letter-spacing:.4px; fill: var(--text); opacity:.9; text-anchor:middle; }
    .center-sub{ font-size: 12px; fill:var(--muted); text-anchor:middle; }

    .phase-label{ font-weight:700; font-size: 14px; fill: var(--text); text-anchor:middle; pointer-events:none; }
    .hint{ font-size: 11px; fill: var(--muted); text-anchor:middle; pointer-events:none; }

    /* Side / Bottom panel */
    .panel{ position:relative; overflow:hidden; }
    .panel-inner{
      display:flex; flex-direction:column; gap:12px; height:100%; padding:20px 20px 22px;
      transform: translateX(6%); opacity:.0; filter:blur(6px);
      transition: transform var(--transition), opacity var(--transition), filter var(--transition);
    }
    .panel.active .panel-inner{ transform:none; opacity:1; filter:none; }

    .panel-header{ display:flex; align-items:center; gap:12px; justify-content:space-between; }
    .panel-title{ margin:0; font-size: clamp(1.05rem, .95rem + .3vw, 1.2rem); }
    .close-btn{ margin-left:auto; border:1px solid rgba(255,255,255,.1); background:transparent; color:var(--text); border-radius:10px; padding:8px 10px; cursor:pointer; }

    .pill{ display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; font-size:.85rem; border:1px solid rgba(255,255,255,.08); color:var(--muted); }

    .panel-section{ background: rgba(255,255,255,.03); border:1px solid rgba(255,255,255,.06); border-radius:14px; padding:14px 14px; }
    .panel-section h4{ margin:.2rem 0 .5rem; font-size:1rem }
    .panel-section ul{ margin:.1rem 0 .3rem .9rem; padding:0; }
    .panel-section li{ margin:.2rem 0; }

    .footer-note{ color:var(--muted); font-size:.88rem; margin-top:6px; }

    /* Mobile bottom sheet effect */
    @media (max-width: 980px){
      .panel{ height: min(48vh, 520px); position:sticky; bottom:0; border-radius: 18px; }
      .panel-inner{ height: 100%; }
    }

    @media (prefers-reduced-motion: reduce){
      .ring-indicator, .seg, .panel-inner, .btn{ transition:none !important; }
    }
  </style>
</head>
<body>
  <header>
    <h1>Modello di Kolb — Ciclo dell’apprendimento (interattivo)</h1>
    <p>Clicca una fase del ciclo per aprire il pannello con spiegazioni, esempi pratici e domande guida. Design reattivo, pronto per GitHub Pages.</p>
  </header>

  <div class="app">
    <div class="layout">
      <!-- Diagram Card -->
      <section class="diagram-card card" aria-labelledby="diagram-title">
        <h2 id="diagram-title" style="position:absolute; left:-9999px">Diagramma interattivo del ciclo di Kolb</h2>
        <div class="legend" aria-hidden="true">
          <span class="badge"><span class="dot" style="background:var(--accent)"></span> Esperienza</span>
          <span class="badge"><span class="dot" style="background:var(--accent-4)"></span> Riflessione</span>
          <span class="badge"><span class="dot" style="background:var(--accent-2)"></span> Concettualizzazione</span>
          <span class="badge"><span class="dot" style="background:var(--accent-3)"></span> Sperimentazione</span>
        </div>

        <div class="diagram-wrap">
          <!-- SVG Donut with 4 segments (quarters) -->
          <svg viewBox="0 0 400 400" role="group" aria-label="Ciclo di Kolb">
            <defs>
              <linearGradient id="g1" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="var(--accent)" stop-opacity=".95"/>
                <stop offset="100%" stop-color="var(--accent)" stop-opacity=".75"/>
              </linearGradient>
              <linearGradient id="g2" x1="1" y1="0" x2="0" y2="1">
                <stop offset="0%" stop-color="var(--accent-4)" stop-opacity=".95"/>
                <stop offset="100%" stop-color="var(--accent-4)" stop-opacity=".75"/>
              </linearGradient>
              <linearGradient id="g3" x1="0" y1="1" x2="1" y2="0">
                <stop offset="0%" stop-color="var(--accent-2)" stop-opacity=".95"/>
                <stop offset="100%" stop-color="var(--accent-2)" stop-opacity=".75"/>
              </linearGradient>
              <linearGradient id="g4" x1="1" y1="1" x2="0" y2="0">
                <stop offset="0%" stop-color="var(--accent-3)" stop-opacity=".95"/>
                <stop offset="100%" stop-color="var(--accent-3)" stop-opacity=".75"/>
              </linearGradient>
              <filter id="soft" x="-20%" y="-20%" width="140%" height="140%">
                <feGaussianBlur stdDeviation="1.2"/>
              </filter>
            </defs>

            <!-- Highlight ring that rotates to active quadrant -->
            <g class="ring-indicator" id="ring" transform="rotate(0 200 200)">
              <circle cx="200" cy="200" r="170" fill="none" stroke="rgba(34,211,238,.25)" stroke-width="2.5"/>
              <path d="M330,200 A130,130 0 0 1 200,330" fill="none" stroke="rgba(34,211,238,.8)" stroke-width="6" stroke-linecap="round" filter="url(#soft)"/>
            </g>

            <!-- Q1: Esperienza (0°→90°) -->
            <path id="seg-Esperienza" class="seg" role="button" tabindex="0" aria-label="Esperienza Concreta" data-phase="esperienza" fill="url(#g1)" d="M350,200 A150,150 0 0 1 200,350 L200,310 A110,110 0 0 0 310,200 Z"/>

            <!-- Q2: Riflessione (90°→180°) -->
            <path id="seg-Riflessione" class="seg" role="button" tabindex="0" aria-label="Osservazione Riflessiva" data-phase="riflessione" fill="url(#g2)" d="M200,350 A150,150 0 0 1 50,200 L90,200 A110,110 0 0 0 200,310 Z"/>

            <!-- Q3: Concettualizzazione (180°→270°) -->
            <path id="seg-Concettualizzazione" class="seg" role="button" tabindex="0" aria-label="Concettualizzazione Astratta" data-phase="concettualizzazione" fill="url(#g3)" d="M50,200 A150,150 0 0 1 200,50 L200,90 A110,110 0 0 0 90,200 Z"/>

            <!-- Q4: Sperimentazione (270°→360°) -->
            <path id="seg-Sperimentazione" class="seg" role="button" tabindex="0" aria-label="Sperimentazione Attiva" data-phase="sperimentazione" fill="url(#g4)" d="M200,50 A150,150 0 0 1 350,200 L310,200 A110,110 0 0 0 200,90 Z"/>

            <!-- Center labels -->
            <text class="center-label" x="200" y="190">Ciclo di Kolb</text>
            <text class="center-sub" x="200" y="210">apprendimento esperienziale</text>

            <!-- Phase text around -->
            <text class="phase-label" x="290" y="235">Esperienza</text>
            <text class="hint" x="290" y="250">concreta</text>

            <text class="phase-label" x="165" y="315">Riflessione</text>
            <text class="hint" x="165" y="330">osservazione</text>

            <text class="phase-label" x="110" y="190">Concettualizzazione</text>
            <text class="hint" x="110" y="205">astratta</text>

            <text class="phase-label" x="230" y="95">Sperimentazione</text>
            <text class="hint" x="230" y="110">attiva</text>
          </svg>
        </div>

        <div class="controls" aria-label="Controlli">
          <button class="btn" id="prevBtn" title="Fase precedente" aria-label="Fase precedente">⟵ Precedente</button>
          <button class="btn" id="nextBtn" title="Fase successiva" aria-label="Fase successiva">Successiva ⟶</button>
          <button class="btn" id="demoBtn" aria-pressed="false" title="Riproduci una demo automatica">▶︎ Demo</button>
        </div>

      </section>

      <!-- Panel Card -->
      <aside class="card panel" id="panel" aria-live="polite" aria-atomic="true">
        <div class="panel-inner" id="panelInner">
          <div class="panel-header">
            <h3 class="panel-title" id="panelTitle">Seleziona una fase</h3>
            <button class="close-btn" id="closePanel" title="Chiudi pannello" aria-label="Chiudi pannello">✕</button>
          </div>

          <div class="pill" id="phaseMeta">—</div>

          <div class="panel-section" id="panelBody">
            <h4>Descrizione</h4>
            <p id="desc">Clicca una sezione dell’anello per esplorare descrizione, esempi, strumenti e domande guida.</p>
          </div>

          <div class="panel-section">
            <h4>Esempi</h4>
            <ul id="examples">
              <li>—</li>
            </ul>
          </div>

          <div class="panel-section">
            <h4>Strumenti & Azioni</h4>
            <ul id="tools">
              <li>—</li>
            </ul>
          </div>

          <div class="panel-section">
            <h4>Domande guida</h4>
            <ul id="prompts">
              <li>—</li>
            </ul>
          </div>

          <p class="footer-note">Nota: Il ciclo non è necessariamente lineare; i gruppi possono tornare a una fase precedente in base a ciò che emerge.</p>
        </div>
      </aside>
    </div>
  </div>

  <script>
    /**
     * Dati delle fasi (in italiano) – contenuti concisi e pratici
     */
    const PHASES = [
      {
        key: 'esperienza',
        name: 'Esperienza Concreta (EC)',
        color: 'var(--accent)',
        meta: 'Fare & vivere l\'attività',
        desc: 'La persona si immerge in un\'esperienza reale: un compito, un gioco serio, una simulazione o un\'attività sul campo. Il focus è sull\'agire e sul sentire.',
        examples: [
          'Role play cliente-dipendente in un corso hospitality',
          'Sprint game per team IT (scrum simulation con Lego o carta)',
          'Shadowing di un collega senior su un\'attività critica'
        ],
        tools: [
          'Simulazioni, serious game, casi pratici',
          'Osservazione diretta sul campo',
          'Check-list di comportamento atteso'
        ],
        prompts: [
          'Cosa è successo? Cosa hai fatto/visto/ascoltato?',
          'Cosa ti ha sorpreso o emozionato?',
          'Quali segnali di successo/errore hai notato?'
        ],
        angle: 0
      },
      {
        key: 'riflessione',
        name: 'Osservazione Riflessiva (OR)',
        color: 'var(--accent-4)',
        meta: 'Guardare & dare senso',
        desc: 'Si rilegge l\'esperienza prendendo distanza: si osservano pattern, si condividono punti di vista, si esplicitano assunzioni. Nasce un primo significato.',
        examples: [
          'Debriefing guidato con domande aperte',
          'Diario di bordo o canvas “What? So What? Now What?”',
          'Peer feedback con regole di ascolto attivo'
        ],
        tools: [
          'Debrief strutturato, 1-2-4-All, fishbowl',
          'Storyboard dell\'esperienza, evidence wall',
          'Retrospettiva (Start/Stop/Continue)'
        ],
        prompts: [
          'Quali pattern emergono? Cosa ha funzionato e cosa no?',
          'Quali alternative possibili non avete considerato?',
          'Che differenze notano i diversi membri del gruppo?'
        ],
        angle: 90
      },
      {
        key: 'concettualizzazione',
        name: 'Concettualizzazione Astratta (CA)',
        color: 'var(--accent-2)',
        meta: 'Collegare teorie & modelli',
        desc: 'Si collegano i fatti a concetti e modelli: si estraggono principi, regole, mappe e si riformula l\'esperienza in un sapere trasferibile.',
        examples: [
          'Mappatura su principi Scrum/PMBOK/Service Design',
          'Canvas causa-effetto (Ishikawa) o 5 Perché',
          'Formulazione di linee guida operative dal caso'
        ],
        tools: [
          'Mappe concettuali, framework, rubriche di qualità',
          'Modelli (Scrum, Kanban, Lean, Customer Journey)',
          'Canvas (A3, HMW, Hypothesis, RACI)'
        ],
        prompts: [
          'Quale modello spiega meglio ciò che è successo?',
          'Quali ipotesi possiamo testare? Quali metriche?',
          'Che principi generali possiamo derivare?'
        ],
        angle: 180
      },
      {
        key: 'sperimentazione',
        name: 'Sperimentazione Attiva (SA)',
        color: 'var(--accent-3)',
        meta: 'Testare & applicare',
        desc: 'Si pianifica e si prova un nuovo comportamento in un contesto reale o simulato per verificare le ipotesi e generare nuova esperienza.',
        examples: [
          'Prototipo rapido e test con utenti in 24–48h',
          'Pilot interno: nuove regole per lo stand-up meeting',
          'A/B test di un messaggio al cliente'
        ],
        tools: [
          'Piani d\'azione SMART, Kanban sperimentazioni',
          'Prototipazione rapida, A/B test, DoD/DoR',
          'Metriche: lead time, NPS, error rate'
        ],
        prompts: [
          'Qual è il prossimo esperimento minimo (MVE)?',
          'Come misuriamo l\'effetto? Entro quando?',
          'Quali rischi e salvaguardie? Chi coinvolgere?'
        ],
        angle: 270
      }
    ];

    const segs = document.querySelectorAll('.seg');
    const ring = document.getElementById('ring');
    const panel = document.getElementById('panel');
    const panelInner = document.getElementById('panelInner');
    const title = document.getElementById('panelTitle');
    const meta = document.getElementById('phaseMeta');
    const desc = document.getElementById('desc');
    const exList = document.getElementById('examples');
    const toolsList = document.getElementById('tools');
    const promptsList = document.getElementById('prompts');
    const closeBtn = document.getElementById('closePanel');
    const nextBtn = document.getElementById('nextBtn');
    const prevBtn = document.getElementById('prevBtn');
    const demoBtn = document.getElementById('demoBtn');

    let current = 0; // index in PHASES
    let demoTimer = null;

    function renderLists(ul, items){
      ul.innerHTML = '';
      items.forEach(t => {
        const li = document.createElement('li');
        li.textContent = t; ul.appendChild(li);
      });
    }

    function setActive(idx, fromClick=true){
      current = (idx + PHASES.length) % PHASES.length;
      const p = PHASES[current];

      // ARIA state
      segs.forEach(s => s.setAttribute('aria-current','false'));
      const activeSeg = document.querySelector(`[data-phase="${p.key}"]`);
      if(activeSeg){ activeSeg.setAttribute('aria-current','true'); }

      // Move indicator
      ring.style.transform = `rotate(${p.angle} 200 200)`;

      // Panel content
      title.textContent = p.name;
      meta.innerHTML = `<span style="display:inline-block;width:10px;height:10px;border-radius:999px;background:${p.color}"></span> ${p.meta}`;
      desc.textContent = p.desc;
      renderLists(exList, p.examples);
      renderLists(toolsList, p.tools);
      renderLists(promptsList, p.prompts);

      // Show panel if hidden
      panel.classList.add('active');

      // Optional small bounce on click
      if(fromClick){
        panelInner.animate([
          { transform:'translateX(2%)', opacity:.96 },
          { transform:'translateX(0)', opacity:1 }
        ], { duration: 220, easing: 'cubic-bezier(.2,.8,.2,1)' });
      }
    }

    // Event bindings for segments (click + keyboard)
    segs.forEach((el, idx) => {
      el.addEventListener('click', () => setActive(idx));
      el.addEventListener('keydown', (e) => {
        if(e.key === 'Enter' || e.key === ' '){ e.preventDefault(); setActive(idx); }
        if(e.key === 'ArrowRight'){ setActive(idx+1, false); }
        if(e.key === 'ArrowLeft'){ setActive(idx-1, false); }
      });
    });

    nextBtn.addEventListener('click', () => setActive(current+1));
    prevBtn.addEventListener('click', () => setActive(current-1));

    closeBtn.addEventListener('click', () => {
      panel.classList.remove('active');
      segs.forEach(s => s.setAttribute('aria-current','false'));
    });

    // Demo autoplay
    function toggleDemo(){
      const running = demoBtn.getAttribute('aria-pressed') === 'true';
      if(running){
        demoBtn.setAttribute('aria-pressed','false');
        demoBtn.textContent = '▶︎ Demo';
        clearInterval(demoTimer); demoTimer = null;
      } else {
        demoBtn.setAttribute('aria-pressed','true');
        demoBtn.textContent = '❚❚ Stop';
        setActive(current); // ensure visible
        demoTimer = setInterval(() => setActive(current+1, false), 2600);
      }
    }
    demoBtn.addEventListener('click', toggleDemo);

    // Start with a friendly default
    setActive(0, false);
  </script>
</body>
</html>
